# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: schedule-hbase-backup
description: The IAM endpoint to call for creating the roles. This is optional and should only be specified when a custom endpoint should be called for IAM operations
flags:
  --cluster-id=!: A unique string that identifies a cluster
  --type=!: Backup type
  --dir=!: The Amazon S3 location of the Hbase backup
  --interval=!: The time between backups
  --unit=!: The time unit for backup’s time-interval
  --start-time=: The time of the first backup in ISO format
  --consistent: Performs a consistent backup
completion:
  flag:
    type: [incremental, full]
    unit: [minutes, hours, days]
documentation:
  command:
    Adds a step to schedule automated HBase backup.
    This command is only available when using Amazon EMR versionsearlier than 4.0.
  flag:
    cluster-id: |
      A unique string that identifies a cluster.
      The create-cluster command returns this identifier.
      You can use the list-clusters command to get cluster IDs.
    type: |
      Backup type.
      You can specify ‘incremental’ or ‘full’.
    dir: |
      The Amazon S3 location of the Hbase backup.
      Example: `s3://mybucket/mybackup`, where mybucket is the specified Amazon S3 bucket and mybackup is the specified backup location.
      The path argument must begin with `s3://``, which refers to an Amazon S3 bucket.
    interval: |
      The time between backups.
    unit: |
      The time unit for backup’s time-interval.
      You can specify one of the following values: ‘minutes’, ‘hours’, or ‘days’.
    start-time: |
      The time of the first backup in ISO format.

      e.g. 2014-04-21T05:26:10Z. Default is now.
    consistent: |
      Performs a consistent backup.
      Pauses all write operations to the HBase cluster during the backup process.
