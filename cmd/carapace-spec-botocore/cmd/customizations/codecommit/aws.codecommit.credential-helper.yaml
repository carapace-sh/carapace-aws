# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: credential-helper
description: Provide a SigV4 compatible user name and password for git smart HTTP.
documentation:
  command: |
    Provide a SigV4 compatible user name and password for git smart HTTP.
    These commands are consumed by git and should not used directly.
    Erase and Store are no-ops.
    Get is operation to generate credentials to authenticate AWS CodeCommit.
    Run “aws codecommit credential-helper help” for details
commands:
  - name: get
    description: Get a username SigV4 credential pair based on protocol, host and path provided from standard in.
    flags:
      --ignore-host-check: Generate credentials regardless of whether the domain is an Amazon domain.
    documentation:
      command: |
        Get a username SigV4 credential pair based on protocol, host and path provided from standard in.
        This is primarily called by git to generate credentials to authenticate against AWS CodeCommit

