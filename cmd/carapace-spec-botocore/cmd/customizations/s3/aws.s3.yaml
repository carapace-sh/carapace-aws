# yaml-language-server: $schema=https://carapace.sh/schemas/command.json
name: s3
description: ""
commands:
  - name: cp
    description: Copies a local file or S3 object to another location locally or in S3
    flags:
      --dryrun: Displays the operations that would be performed using the specified command without actually running them
      --quiet: Does not display the operations performed from the specified command
      --include=: Don’t exclude files or objects in the command that match the specified pattern
      --exclude=: Exclude all files or objects from the command that matches the specified pattern
      --acl=: Sets the ACL for the object when the command is performed
      --case-conflict=: Configures behavior when attempting to download multiple objects whose keys differ only by case
      --follow-symlinks: Symbolic links are followed only when uploading to S3 from the local filesystem
      --no-follow-symlinks: Symbolic links are followed only when uploading to S3 from the local filesystem
      --no-guess-mime-type: Do not try to guess the mime type for uploaded files
      --sse=: Specifies server-side encryption of the object in S3
      --sse-c=: Specifies server-side encryption using customer provided keys of the the object in S3
      --sse-c-key=: The customer-provided encryption key to use to server-side encrypt the object in S3
      --sse-kms-key-id=: The customer-managed AWS Key Management Service (KMS) key ID
      --sse-c-copy-source=: The algorithm to use when decrypting the source object
      --sse-c-copy-source-key=: The customer-provided encryption key for Amazon S3 to use to decrypt the source object
      --storage-class=: The type of storage to use for the object
      --grants=: Grant specific permissions to individual users or groups
      --website-redirect=: If the bucket is configured as a website, redirects requests for this object to another object in the same bucket or to an external URL
      --content-type=: Specify an explicit content type for this operation
      --cache-control=: Specifies caching behavior along the request/reply chain
      --content-disposition=: Specifies presentational information for the object
      --content-encoding=: Specifies what content encodings have been applied to the object
      --content-language=: The language the content is in
      --expires=: The date and time at which the object is no longer cacheable
      --source-region=: The region of the source bucket
      --only-show-errors: Only errors and warnings are displayed
      --no-progress: File transfer progress is not displayed
      --progress-frequency=: Number of seconds to wait before updating file transfer progress
      --progress-multiline: Show progress on multiple lines.
      --page-size=: The number of results to return in each response to a list operation
      --ignore-glacier-warnings: Turns off glacier warnings
      --force-glacier-transfer: Forces a transfer request on all Glacier objects in a sync or recursive copy
      --request-payer=: Confirms that the requester knows that they will be charged for the request
      --checksum-mode=: To retrieve the checksum, this mode must be enabled
      --checksum-algorithm=: Indicates the algorithm used to create the checksum for the object
      --metadata=: A map of metadata to store with the objects in S3
      --copy-props=: Determines which properties are copied from the source S3 object
      --metadata-directive=: Sets the x-amz-metadata-directive header for CopyObject operations
      --expected-size=: This argument specifies the expected size of a stream in terms of bytes
      --recursive: Command is performed on all files or objects under the specified directory or prefix
    completion:
      flag:
        case-conflict:
          - "error\tRaise an error and abort downloads"
          - "warn\tThe default value. Emit a warning and download the object"
          - "skip\tSkip downloading the object"
          - "ignore\tIgnore the conflict and download the object"
        storage-class:
          - STANDARD
          - REDUCED_REDUNDANCY
          - STANDARD_IA
          - ONEZONE_IA
          - INTELLIGENT_TIERING
          - GLACIER
          - DEEP_ARCHIVE
          - GLACIER_IR
      # TODO positional completion

  - name: ls
    description: List S3 objects and common prefixes under a prefix or all S3 buckets
    flags:
      --recursive: Command is performed on all files or objects under the specified directory or prefix
      --page-size=: The number of results to return in each response to a list operation
      --human-readable: Displays file sizes in human readable format
      --summarize: Displays summary information
      --request-payer=: Confirms that the requester knows that they will be charged for the request
      --bucket-name-prefix=: Limits the response to bucket names that begin with the specified bucket name prefix
      --bucket-region=: Limits the response to buckets that are located in the specified Amazon Web Services Region
    # TODO completion

  - name: mb
    description: Creates an S3 bucket
    # TODO positional completion  

  - name: mv
    description: Moves a local file or S3 object to another location locally or in S3.
    flags:
      --case-conflict=: Configures behavior when attempting to download multiple objects whose keys differ only by case
      --dryrun: Displays the operations that would be performed using the specified command without actually running them
      --quiet: Does not display the operations performed from the specified command
      --include=: Don’t exclude files or objects in the command that match the specified pattern
      --exclude=: Exclude all files or objects from the command that matches the specified pattern
      --acl=: Sets the ACL for the object when the command is performed
      --follow-symlinks: Symbolic links are followed only when uploading to S3 from the local filesystem
      --no-follow-symlinks: Symbolic links are followed only when uploading to S3 from the local filesystem
      --no-guess-mime-type: Do not try to guess the mime type for uploaded files
      --sse=: Specifies server-side encryption of the object in S3
      --sse-c=: Specifies server-side encryption using customer provided keys of the the object in S3
      --sse-c-key=: The customer-provided encryption key to use to server-side encrypt the object in S3
      --sse-kms-key-id=: The customer-managed AWS Key Management Service (KMS) key ID
      --sse-c-copy-source=: The algorithm to use when decrypting the source object
      --sse-c-copy-source-key=: The encryption key provided must be one that was used when the source object was created.
      --storage-class=: The type of storage to use for the object
      --grants=: Grant specific permissions to individual users or groups
      --website-redirect=: Redirects requests for this object to another object in the same bucket or to an external URL
      --content-type=: Specify an explicit content type for this operation
      --cache-control=: Specifies caching behavior along the request/reply chain
      --content-disposition=: Specifies presentational information for the object
      --content-encoding=: Specifies what content encodings have been applied to the object
      --content-language=: The language the content is in
      --expires=: The date and time at which the object is no longer cacheable
      --source-region=: This specifies the region of the source bucket
      --only-show-errors: Only errors and warnings are displayed
      --no-progress: File transfer progress is not displayed
      --progress-frequency=: Number of seconds to wait before updating file transfer progress
      --progress-multiline: Show progress on multiple lines
      --page-size=: The number of results to return in each response to a list operation
      --ignore-glacier-warnings: Turns off glacier warnings
      --force-glacier-transfer: Forces a transfer request on all Glacier objects in a sync or recursive copy
      --request-payer=: Confirms that the requester knows that they will be charged for the request
      --checksum-mode=: To retrieve the checksum, this mode must be enabled
      --checksum-algorithm=: Indicates the algorithm used to create the checksum for the object
      --metadata=: A map of metadata to store with the objects in S3
      --copy-props=: Determines which properties are copied from the source S3 object
      --metadata-directive=: Sets the x-amz-metadata-directive header for CopyObject operations
      --recursive: Command is performed on all files or objects under the specified directory or prefix
      --validate-same-s3-paths: Resolves the source and destination S3 URIs to their underlying buckets
    completion:
      flag:
        case-conflict:
          - "error\tRaise an error and abort downloads"
          - "warn\tThe default value. Emit a warning and download the object"
          - "skip\tSkip downloading the object"
          - "ignore\tIgnore the conflict and download the object"
        storage-class:
          - STANDARD
          - REDUCED_REDUNDANCY
          - STANDARD_IA
          - ONEZONE_IA
          - INTELLIGENT_TIERING
          - GLACIER
          - DEEP_ARCHIVE
          - GLACIER_IR
    # TODO positional completion
    
  - name: presign
    description: Generate a pre-signed URL for an Amazon S3 object
    flags:
      --expires-in=: Number of seconds until the pre-signed URL expires
    # TODO positional completion

  - name: rb
    description: Deletes an empty S3 bucket
    flags:
      --force: Deletes all objects in the bucket including the bucket itself.
    # TODO positional completion  

  - name: rm
    description: Deletes an S3 object.
    flags:
      --dryrun: Displays the operations that would be performed using the specified command without actually running them
      --quiet: Does not display the operations performed from the specified command
      --recursive: Command is performed on all files or objects under the specified directory or prefix
      --request-payer=: Confirms that the requester knows that they will be charged for the request
      --include=: Don’t exclude files or objects in the command that match the specified pattern
      --exclude=: Exclude all files or objects from the command that matches the specified pattern
      --only-show-errors: Only errors and warnings are displayed
      --page-size=: The number of results to return in each response to a list operation
    # TODO positional completion  

  - name: sync
    description: Syncs directories and S3 prefixe
    flags:
      --dryrun: Displays the operations that would be performed using the specified command without actually running them
      --quiet: Does not display the operations performed from the specified command
      --include=: Don’t exclude files or objects in the command that match the specified pattern
      --exclude=: Exclude all files or objects from the command that matches the specified pattern
      --acl=: Sets the ACL for the object when the command is performed
      --case-conflict=: Configures behavior when attempting to download multiple objects whose keys differ only by case
      --follow-symlinks: Symbolic links are followed only when uploading to S3 from the local filesystem
      --no-follow-symlinks: Symbolic links are followed only when uploading to S3 from the local filesystem
      --no-guess-mime-type: Do not try to guess the mime type for uploaded files
      --sse=: Specifies server-side encryption of the object in S3
      --sse-c=: Specifies server-side encryption using customer provided keys of the the object in S3
      --sse-c-key=: The customer-provided encryption key to use to server-side encrypt the object in S3
      --sse-kms-key-id=: The customer-managed AWS Key Management Service (KMS) key ID
      --sse-c-copy-source=: The algorithm to use when decrypting the source object
      --sse-c-copy-source-key=: Specifies the customer-provided encryption key for Amazon S3
      --storage-class=: The type of storage to use for the object
      --grants=: Grant specific permissions to individual users or groups
      --website-redirect=: Redirects requests for this object to another object in the same bucket or to an external URL
      --content-type=: Specify an explicit content type for this operation. This value overrides any guessed mime types
      --cache-control=: Specifies caching behavior along the request/reply chain
      --content-disposition=: Specifies presentational information for the object
      --content-encoding=: Specifies what content encodings have been applied to the object
      --content-language=: The language the content is in
      --expires=: The date and time at which the object is no longer cacheable
      --source-region=: Specifies the region of the source bucket
      --only-show-errors: Only errors and warnings are displayed
      --no-progress: File transfer progress is not displayed
      --progress-frequency=: Number of seconds to wait before updating file transfer progress
      --progress-multiline: Show progress on multiple lines
      --page-size=: The number of results to return in each response to a list operation
      --ignore-glacier-warnings: Turns off glacier warnings
      --force-glacier-transfer: Forces a transfer request on all Glacier objects in a sync or recursive copy
      --request-payer=: Confirms that the requester knows that they will be charged for the request
      --checksum-mode=: To retrieve the checksum, this mode must be enabled
      --checksum-algorithm=: Indicates the algorithm used to create the checksum for the object
      --metadata=: A map of metadata to store with the objects in S3
      --copy-props=: Determines which properties are copied from the source S3 object
      --metadata-directive=: Sets the x-amz-metadata-directive header for CopyObject operations
    completion:
      flag:
        case-conflict:
          - "error\tRaise an error and abort downloads"
          - "warn\tThe default value. Emit a warning and download the object"
          - "skip\tSkip downloading the object"
          - "ignore\tIgnore the conflict and download the object"
        storage-class:
          - STANDARD
          - REDUCED_REDUNDANCY
          - STANDARD_IA
          - ONEZONE_IA
          - INTELLIGENT_TIERING
          - GLACIER
          - DEEP_ARCHIVE
          - GLACIER_IR. Defaults to ‘STANDARD’
    # TODO positional completion

  - name: website
    description: Set the website configuration for a bucket
    flags:
      --index-document=: A suffix that is appended to a request that is for a directory on the website endpoint
      --error-document=: The object key name to use when a 4XX class error occurs
    # TODO positional completion  
