name: bedrock-agent-runtime
description: Agents for Amazon Bedrock Runtime
commands:
    - name: invoke-inline-agent
      description: Invokes an inline Amazon Bedrock agent using the configurations you provide with the request.
      flags:
        --action-groups=: A list of action groups with each action group defining the action the inline agent needs to carry out.
        --agent-collaboration=: Defines how the inline collaborator agent handles information across multiple collaborator agents to coordinate a final response.
        --agent-name=: The name for the agent.
        --bedrock-model-configurations=: Model settings for the request.
        --collaborator-configurations=: Settings for an inline agent collaborator called with [InvokeInlineAgent](https://docs.aws.amazon.com/bedrock/latest/APIReference/API_agent-runtime_InvokeInlineAgent.html).
        --collaborators=: List of collaborator inline agents.
        --custom-orchestration=: Contains details of the custom orchestration configured for the agent.
        --customer-encryption-key-arn=: The Amazon Resource Name (ARN) of the Amazon Web Services KMS key to use to encrypt your inline agent.
        --enable-trace: Specifies whether to turn on the trace or not to track the agent's reasoning process.
        --end-session: Specifies whether to end the session with the inline agent or not.
        --foundation-model=!: The [model identifier (ID)](https://docs.aws.amazon.com/bedrock/latest/userguide/model-ids.html#model-ids-arns) of the model to use for orchestration by the inline agent.
        --guardrail-configuration=: The [guardrails](https://docs.aws.amazon.com/bedrock/latest/userguide/guardrails.html) to assign to the inline agent.
        --idle-session-ttl-in-seconds=: The number of seconds for which the inline agent should maintain session information.
        --inline-session-state=: Parameters that specify the various attributes of a sessions.
        --input-text=: The prompt text to send to the agent.
        --instruction=!: The instructions that tell the inline agent what it should do and how it should interact with users.
        --knowledge-bases=: Contains information of the knowledge bases to associate with.
        --no-enable-trace: Specifies whether to turn on the trace or not to track the agent's reasoning process.
        --no-end-session: Specifies whether to end the session with the inline agent or not.
        --orchestration-type=: Specifies the type of orchestration strategy for the agent.
        --prompt-creation-configurations=: Specifies parameters that control how the service populates the agent prompt for an `InvokeInlineAgent` request.
        --prompt-override-configuration=: Configurations for advanced prompts used to override the default prompts to enhance the accuracy of the inline agent.
        --session-id=!: The unique identifier of the session.
        --streaming-configurations=: Specifies the configurations for streaming.
      completion:
        flag:
            agent-collaboration:
                - SUPERVISOR
                - SUPERVISOR_ROUTER
                - DISABLED
            orchestration-type:
                - DEFAULT
                - CUSTOM_ORCHESTRATION
    - name: list-invocations
      description: Lists all invocations associated with a specific session.
      flags:
        --max-results=: The maximum number of results to return in the response.
        --next-token=: If the total number of results is greater than the `maxResults` value provided in the request, enter the token returned in the `nextToken` field in the response in this field to return the next batch of results.
        --session-identifier=!: The unique identifier for the session to list invocations for.
    - name: list-flow-executions
      description: Lists all executions of a flow.
      flags:
        --flow-alias-identifier=: The unique identifier of the flow alias to list executions for.
        --flow-identifier=!: The unique identifier of the flow to list executions for.
        --max-results=: The maximum number of flow executions to return in a single response.
        --next-token=: A token to retrieve the next set of results.
    - name: stop-flow-execution
      description: Stops an Amazon Bedrock flow's execution.
      flags:
        --execution-identifier=!: The unique identifier of the flow execution to stop.
        --flow-alias-identifier=!: The unique identifier of the flow alias used for the execution.
        --flow-identifier=!: The unique identifier of the flow.
    - name: tag-resource
      description: Associate tags with a resource.
      flags:
        --resource-arn=!: The Amazon Resource Name (ARN) of the resource to tag.
        --tags=!: An object containing key-value pairs that define the tags to attach to the resource.
    - name: end-session
      description: Ends the session.
      flags:
        --session-identifier=!: The unique identifier for the session to end.
    - name: optimize-prompt
      description: Optimizes a prompt for the task that you specify.
      flags:
        --input=!: Contains the prompt to optimize.
        --target-model-id=!: The unique identifier of the model that you want to optimize the prompt for.
    - name: rerank
      description: Reranks the relevance of sources based on queries.
      flags:
        --next-token=: If the total number of results was greater than could fit in a response, a token is returned in the `nextToken` field.
        --queries=!: An array of objects, each of which contains information about a query to submit to the reranker model.
        --reranking-configuration=!: Contains configurations for reranking.
        --sources=!: An array of objects, each of which contains information about the sources to rerank.
    - name: start-flow-execution
      description: Starts an execution of an Amazon Bedrock flow.
      flags:
        --flow-alias-identifier=!: The unique identifier of the flow alias to use for the flow execution.
        --flow-execution-name=: The unique name for the flow execution.
        --flow-identifier=!: The unique identifier of the flow to execute.
        --inputs=!: The input data required for the flow execution.
        --model-performance-configuration=: The performance settings for the foundation model used in the flow execution.
    - name: create-invocation
      description: Creates a new invocation within a session.
      flags:
        --description=: A description for the interactions in the invocation.
        --invocation-id=: A unique identifier for the invocation in UUID format.
        --session-identifier=!: The unique identifier for the associated session for the invocation.
    - name: get-invocation-step
      description: Retrieves the details of a specific invocation step within an invocation in a session.
      flags:
        --invocation-identifier=!: The unique identifier for the invocation in UUID format.
        --invocation-step-id=!: The unique identifier (in UUID format) for the specific invocation step to retrieve.
        --session-identifier=!: The unique identifier for the invocation step's associated session.
    - name: list-tags-for-resource
      description: List all the tags for the resource you specify.
      flags:
        --resource-arn=!: The Amazon Resource Name (ARN) of the resource for which to list tags.
    - name: untag-resource
      description: Remove tags from a resource.
      flags:
        --resource-arn=!: The Amazon Resource Name (ARN) of the resource from which to remove tags.
        --tag-keys=!: A list of keys of the tags to remove from the resource.
    - name: update-session
      description: Updates the metadata or encryption settings of a session.
      flags:
        --session-identifier=!: The unique identifier of the session to modify.
        --session-metadata=: A map of key-value pairs containing attributes to be persisted across the session.
    - name: get-agent-memory
      description: Gets the sessions stored in the memory of the agent.
      flags:
        --agent-alias-id=!: The unique identifier of an alias of an agent.
        --agent-id=!: The unique identifier of the agent to which the alias belongs.
        --max-items=: The maximum number of items to return in the response.
        --memory-id=!: The unique identifier of the memory.
        --memory-type=!: The type of memory.
        --next-token=: If the total number of results is greater than the maxItems value provided in the request, enter the token returned in the `nextToken` field in the response in this field to return the next batch of results.
      completion:
        flag:
            memory-type:
                - SESSION_SUMMARY
    - name: retrieve-and-generate
      description: Queries a knowledge base and generates responses based on the retrieved results and using the specified foundation model or [inference profile](https://docs.aws.amazon.com/bedrock/latest/userguide/cross-region-inference.html).
      flags:
        --input=!: Contains the query to be made to the knowledge base.
        --retrieve-and-generate-configuration=: Contains configurations for the knowledge base query and retrieval process.
        --session-configuration=: Contains details about the session with the knowledge base.
        --session-id=: The unique identifier of the session.
    - name: retrieve-and-generate-stream
      description: Queries a knowledge base and generates responses based on the retrieved results, with output in streaming format.
      flags:
        --input=!: Contains the query to be made to the knowledge base.
        --retrieve-and-generate-configuration=: Contains configurations for the knowledge base query and retrieval process.
        --session-configuration=: Contains details about the session with the knowledge base.
        --session-id=: The unique identifier of the session.
    - name: list-invocation-steps
      description: Lists all invocation steps associated with a session and optionally, an invocation within the session.
      flags:
        --invocation-identifier=: The unique identifier (in UUID format) for the invocation to list invocation steps for.
        --max-results=: The maximum number of results to return in the response.
        --next-token=: If the total number of results is greater than the `maxResults` value provided in the request, enter the token returned in the `nextToken` field in the response in this field to return the next batch of results.
        --session-identifier=!: The unique identifier for the session associated with the invocation steps.
    - name: list-sessions
      description: Lists all sessions in your Amazon Web Services account.
      flags:
        --max-results=: The maximum number of results to return in the response.
        --next-token=: If the total number of results is greater than the `maxResults` value provided in the request, enter the token returned in the `nextToken` field in the response in this field to return the next batch of results.
    - name: create-session
      description: Creates a session to temporarily store conversations for generative AI (GenAI) applications built with open-source frameworks such as LangGraph and LlamaIndex.
      flags:
        --encryption-key-arn=: The Amazon Resource Name (ARN) of the KMS key to use to encrypt the session data.
        --session-metadata=: A map of key-value pairs containing attributes to be persisted across the session.
        --tags=: Specify the key-value pairs for the tags that you want to attach to the session.
    - name: invoke-flow
      description: Invokes an alias of a flow to run the inputs that you specify and return the output of each node as a stream.
      flags:
        --enable-trace: Specifies whether to return the trace for the flow or not.
        --execution-id=: The unique identifier for the current flow execution.
        --flow-alias-identifier=!: The unique identifier of the flow alias.
        --flow-identifier=!: The unique identifier of the flow.
        --inputs=!: A list of objects, each containing information about an input into the flow.
        --model-performance-configuration=: Model performance settings for the request.
        --no-enable-trace: Specifies whether to return the trace for the flow or not.
    - name: retrieve
      description: Queries a knowledge base and retrieves information from it.
      flags:
        --guardrail-configuration=: Guardrail settings.
        --knowledge-base-id=!: The unique identifier of the knowledge base to query.
        --next-token=: If there are more results than can fit in the response, the response returns a `nextToken`.
        --retrieval-configuration=: Contains configurations for the knowledge base query and retrieval process.
        --retrieval-query=!: Contains the query to send the knowledge base.
    - name: delete-agent-memory
      description: Deletes memory from the specified memory identifier.
      flags:
        --agent-alias-id=!: The unique identifier of an alias of an agent.
        --agent-id=!: The unique identifier of the agent to which the alias belongs.
        --memory-id=: The unique identifier of the memory.
        --session-id=: The unique session identifier of the memory.
    - name: get-flow-execution
      description: Retrieves details about a specific flow execution, including its status, start and end times, and any errors that occurred during execution.
      flags:
        --execution-identifier=!: The unique identifier of the flow execution to retrieve.
        --flow-alias-identifier=!: The unique identifier of the flow alias used for the execution.
        --flow-identifier=!: The unique identifier of the flow.
    - name: get-session
      description: Retrieves details about a specific session.
      flags:
        --session-identifier=!: A unique identifier for the session to retrieve.
    - name: list-flow-execution-events
      description: Lists events that occurred during a flow execution.
      flags:
        --event-type=!: The type of events to retrieve.
        --execution-identifier=!: The unique identifier of the flow execution.
        --flow-alias-identifier=!: The unique identifier of the flow alias used for the execution.
        --flow-identifier=!: The unique identifier of the flow.
        --max-results=: The maximum number of events to return in a single response.
        --next-token=: A token to retrieve the next set of results.
      completion:
        flag:
            event-type:
                - Node
                - Flow
    - name: put-invocation-step
      description: Add an invocation step to an invocation in a session.
      flags:
        --invocation-identifier=!: The unique identifier (in UUID format) of the invocation to add the invocation step to.
        --invocation-step-id=: The unique identifier of the invocation step in UUID format.
        --invocation-step-time=!: The timestamp for when the invocation step occurred.
        --payload=!: The payload for the invocation step, including text and images for the interaction.
        --session-identifier=!: The unique identifier for the session to add the invocation step to.
    - name: delete-session
      description: Deletes a session that you ended.
      flags:
        --session-identifier=!: The unique identifier for the session to be deleted.
    - name: generate-query
      description: Generates an SQL query from a natural language query.
      flags:
        --query-generation-input=!: Specifies information about a natural language query to transform into SQL.
        --transformation-configuration=!: Specifies configurations for transforming the natural language query into SQL.
    - name: get-execution-flow-snapshot
      description: Retrieves the flow definition snapshot used for a flow execution.
      flags:
        --execution-identifier=!: The unique identifier of the flow execution.
        --flow-alias-identifier=!: The unique identifier of the flow alias used for the flow execution.
        --flow-identifier=!: The unique identifier of the flow.
    - name: invoke-agent
      description: Sends a prompt for the agent to process and respond to.
      flags:
        --agent-alias-id=!: The alias of the agent to use.
        --agent-id=!: The unique identifier of the agent to use.
        --bedrock-model-configurations=: Model performance settings for the request.
        --enable-trace: Specifies whether to turn on the trace or not to track the agent's reasoning process.
        --end-session: Specifies whether to end the session with the agent or not.
        --input-text=: The prompt text to send the agent.
        --memory-id=: The unique identifier of the agent memory.
        --no-enable-trace: Specifies whether to turn on the trace or not to track the agent's reasoning process.
        --no-end-session: Specifies whether to end the session with the agent or not.
        --prompt-creation-configurations=: Specifies parameters that control how the service populates the agent prompt for an `InvokeAgent` request.
        --session-id=!: The unique identifier of the session.
        --session-state=: Contains parameters that specify various attributes of the session.
        --source-arn=: The ARN of the resource making the request.
        --streaming-configurations=: Specifies the configurations for streaming.
