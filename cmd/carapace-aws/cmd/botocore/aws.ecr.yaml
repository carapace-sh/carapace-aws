name: ecr
description: Amazon Elastic Container Registry
commands:
    - name: put-registry-policy
      description: Creates or updates the permissions policy for your registry.
      flags:
        --policy-text=!: The JSON policy text to apply to your registry.
    - name: batch-get-repository-scanning-configuration
      description: Gets the scanning configuration for one or more repositories.
      flags:
        --repository-names=!: One or more repository names to get the scanning configuration for.
    - name: describe-image-replication-status
      description: Returns the replication status for a specified image.
      flags:
        --image-id=!: ""
        --registry-id=: The Amazon Web Services account ID associated with the registry.
        --repository-name=!: The name of the repository that the image is in.
    - name: describe-repository-creation-templates
      description: Returns details about the repository creation templates in a registry.
      flags:
        --max-results=: The maximum number of repository results returned by `DescribeRepositoryCreationTemplatesRequest` in paginated output.
        --next-token=: The `nextToken` value returned from a previous paginated `DescribeRepositoryCreationTemplates` request where `maxResults` was used and the results exceeded the value of that parameter.
        --prefixes=: The repository namespace prefixes associated with the repository creation templates to describe.
    - name: get-lifecycle-policy-preview
      description: Retrieves the results of the lifecycle policy preview request for the specified repository.
      flags:
        --filter=: An optional parameter that filters results based on image tag status and all tags, if tagged.
        --image-ids=: The list of imageIDs to be included.
        --max-results=: "The maximum number of repository results returned by `GetLifecyclePolicyPreviewRequest` in\L paginated output."
        --next-token=: "The `nextToken` value returned from a previous paginated\L `GetLifecyclePolicyPreviewRequest` request where `maxResults` was used and the\L results exceeded the value of that parameter."
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository.
        --repository-name=!: The name of the repository.
    - name: get-repository-policy
      description: Retrieves the repository policy for the specified repository.
      flags:
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository.
        --repository-name=!: The name of the repository with the policy to retrieve.
    - name: list-images
      description: Lists all the image IDs for the specified repository.
      flags:
        --filter=: The filter key and value with which to filter your `ListImages` results.
        --max-results=: The maximum number of image results returned by `ListImages` in paginated output.
        --next-token=: The `nextToken` value returned from a previous paginated `ListImages` request where `maxResults` was used and the results exceeded the value of that parameter.
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository in which to list images.
        --repository-name=!: The repository with image IDs to be listed.
    - name: put-image
      description: Creates or updates the image manifest and tags associated with an image.
      flags:
        --image-digest=: The image digest of the image manifest corresponding to the image.
        --image-manifest-media-type=: The media type of the image manifest.
        --image-manifest=!: The image manifest corresponding to the image to be uploaded.
        --image-tag=: The tag to associate with the image.
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository in which to put the image.
        --repository-name=!: The name of the repository in which to put the image.
    - name: upload-layer-part
      description: Uploads an image layer part to Amazon ECR.
      flags:
        --layer-part-blob=!: The base64-encoded layer part payload.
        --part-first-byte=!: The position of the first byte of the layer part witin the overall image layer.
        --part-last-byte=!: The position of the last byte of the layer part within the overall image layer.
        --registry-id=: The Amazon Web Services account ID associated with the registry to which you are uploading layer parts.
        --repository-name=!: The name of the repository to which you are uploading layer parts.
        --upload-id=!: The upload ID from a previous [InitiateLayerUpload]() operation to associate with the layer part upload.
    - name: batch-check-layer-availability
      description: Checks the availability of one or more image layers in a repository.
      flags:
        --layer-digests=!: The digests of the image layers to check.
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the image layers to check.
        --repository-name=!: The name of the repository that is associated with the image layers to check.
    - name: delete-registry-policy
      description: Deletes the registry permissions policy.
    - name: delete-repository
      description: Deletes a repository.
      flags:
        --force: If true, deleting the repository force deletes the contents of the repository.
        --no-force: If true, deleting the repository force deletes the contents of the repository.
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository to delete.
        --repository-name=!: The name of the repository to delete.
    - name: describe-repositories
      description: Describes image repositories in a registry.
      flags:
        --max-results=: The maximum number of repository results returned by `DescribeRepositories` in paginated output.
        --next-token=: The `nextToken` value returned from a previous paginated `DescribeRepositories` request where `maxResults` was used and the results exceeded the value of that parameter.
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repositories to be described.
        --repository-names=: A list of repositories to describe.
    - name: put-lifecycle-policy
      description: Creates or updates the lifecycle policy for the specified repository.
      flags:
        --lifecycle-policy-text=!: The JSON repository policy text to apply to the repository.
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository.
        --repository-name=!: The name of the repository to receive the policy.
    - name: register-pull-time-update-exclusion
      description: Adds an IAM principal to the pull time update exclusion list for a registry.
      flags:
        --principal-arn=!: The ARN of the IAM principal to exclude from having image pull times recorded.
    - name: update-pull-through-cache-rule
      description: Updates an existing pull through cache rule.
      flags:
        --credential-arn=: The Amazon Resource Name (ARN) of the Amazon Web Services Secrets Manager secret that identifies the credentials to authenticate to the upstream registry.
        --custom-role-arn=: Amazon Resource Name (ARN) of the IAM role to be assumed by Amazon ECR to authenticate to the ECR upstream registry.
        --ecr-repository-prefix=!: The repository name prefix to use when caching images from the source registry.
        --registry-id=: The Amazon Web Services account ID associated with the registry associated with the pull through cache rule.
    - name: describe-registry
      description: Describes the settings for a registry.
    - name: get-account-setting
      description: Retrieves the account setting value for the specified setting name.
      flags:
        --name=!: The name of the account setting, such as `BASIC_SCAN_TYPE_VERSION` or `REGISTRY_POLICY_SCOPE`.
    - name: delete-signing-configuration
      description: Deletes the registry's signing configuration.
    - name: get-signing-configuration
      description: Retrieves the registry's signing configuration, which defines rules for automatically signing images using Amazon Web Services Signer.
    - name: put-registry-scanning-configuration
      description: Creates or updates the scanning configuration for your private registry.
      flags:
        --rules=: The scanning rules to use for the registry.
        --scan-type=: The scanning type to set for the registry.
      completion:
        flag:
            scan-type:
                - BASIC
                - ENHANCED
    - name: deregister-pull-time-update-exclusion
      description: Removes a principal from the pull time update exclusion list for a registry.
      flags:
        --principal-arn=!: The ARN of the IAM principal to remove from the pull time update exclusion list.
    - name: describe-images
      description: Returns metadata about the images in a repository.
      flags:
        --filter=: The filter key and value with which to filter your `DescribeImages` results.
        --image-ids=: The list of image IDs for the requested repository.
        --max-results=: The maximum number of repository results returned by `DescribeImages` in paginated output.
        --next-token=: The `nextToken` value returned from a previous paginated `DescribeImages` request where `maxResults` was used and the results exceeded the value of that parameter.
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository in which to describe images.
        --repository-name=!: The repository that contains the images to describe.
    - name: get-download-url-for-layer
      description: Retrieves the pre-signed Amazon S3 download URL corresponding to an image layer.
      flags:
        --layer-digest=!: The digest of the image layer to download.
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the image layer to download.
        --repository-name=!: The name of the repository that is associated with the image layer to download.
    - name: put-replication-configuration
      description: Creates or updates the replication configuration for a registry.
      flags:
        --replication-configuration=!: An object representing the replication configuration for a registry.
    - name: tag-resource
      description: Adds specified tags to a resource with the specified ARN.
      flags:
        --resource-arn=!: The Amazon Resource Name (ARN) of the the resource to which to add tags.
        --tags=!: The tags to add to the resource.
    - name: update-image-storage-class
      description: Transitions an image between storage classes.
      flags:
        --image-id=!: ""
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the image to transition.
        --repository-name=!: The name of the repository that contains the image to transition.
        --target-storage-class=!: The target storage class for the image.
      completion:
        flag:
            target-storage-class:
                - STANDARD
                - ARCHIVE
    - name: validate-pull-through-cache-rule
      description: Validates an existing pull through cache rule for an upstream registry that requires authentication.
      flags:
        --ecr-repository-prefix=!: The repository name prefix associated with the pull through cache rule.
        --registry-id=: The registry ID associated with the pull through cache rule.
    - name: describe-pull-through-cache-rules
      description: Returns the pull through cache rules for a registry.
      flags:
        --ecr-repository-prefixes=: The Amazon ECR repository prefixes associated with the pull through cache rules to return.
        --max-results=: The maximum number of pull through cache rules returned by `DescribePullThroughCacheRulesRequest` in paginated output.
        --next-token=: The `nextToken` value returned from a previous paginated `DescribePullThroughCacheRulesRequest` request where `maxResults` was used and the results exceeded the value of that parameter.
        --registry-id=: The Amazon Web Services account ID associated with the registry to return the pull through cache rules for.
    - name: get-registry-scanning-configuration
      description: Retrieves the scanning configuration for a registry.
    - name: initiate-layer-upload
      description: Notifies Amazon ECR that you intend to upload an image layer.
      flags:
        --registry-id=: The Amazon Web Services account ID associated with the registry to which you intend to upload layers.
        --repository-name=!: The name of the repository to which you intend to upload layers.
    - name: get-authorization-token
      description: Retrieves an authorization token.
      flags:
        --registry-ids=: A list of Amazon Web Services account IDs that are associated with the registries for which to get AuthorizationData objects.
    - name: put-image-scanning-configuration
      description: The `PutImageScanningConfiguration` API is being deprecated, in favor of specifying the image scanning configuration at the registry level.
      flags:
        --image-scanning-configuration=!: The image scanning configuration for the repository.
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository in which to update the image scanning configuration setting.
        --repository-name=!: The name of the repository in which to update the image scanning configuration setting.
    - name: put-image-tag-mutability
      description: Updates the image tag mutability settings for the specified repository.
      flags:
        --image-tag-mutability-exclusion-filters=: A list of filters that specify which image tags should be excluded from the image tag mutability setting being applied.
        --image-tag-mutability=!: The tag mutability setting for the repository.
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository in which to update the image tag mutability settings.
        --repository-name=!: The name of the repository in which to update the image tag mutability settings.
      completion:
        flag:
            image-tag-mutability:
                - MUTABLE
                - IMMUTABLE
                - IMMUTABLE_WITH_EXCLUSION
                - MUTABLE_WITH_EXCLUSION
    - name: batch-delete-image
      description: Deletes a list of specified images within a repository.
      flags:
        --image-ids=!: A list of image ID references that correspond to images to delete.
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the image to delete.
        --repository-name=!: The repository that contains the image to delete.
    - name: get-lifecycle-policy
      description: Retrieves the lifecycle policy for the specified repository.
      flags:
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository.
        --repository-name=!: The name of the repository.
    - name: get-registry-policy
      description: Retrieves the permissions policy for a registry.
    - name: start-image-scan
      description: Starts a basic image vulnerability scan.
      flags:
        --image-id=!: ""
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository in which to start an image scan request.
        --repository-name=!: The name of the repository that contains the images to scan.
    - name: create-pull-through-cache-rule
      description: Creates a pull through cache rule.
      flags:
        --credential-arn=: The Amazon Resource Name (ARN) of the Amazon Web Services Secrets Manager secret that identifies the credentials to authenticate to the upstream registry.
        --custom-role-arn=: Amazon Resource Name (ARN) of the IAM role to be assumed by Amazon ECR to authenticate to the ECR upstream registry.
        --ecr-repository-prefix=!: The repository name prefix to use when caching images from the source registry.
        --registry-id=: The Amazon Web Services account ID associated with the registry to create the pull through cache rule for.
        --upstream-registry-url=!: The registry URL of the upstream public registry to use as the source for the pull through cache rule.
        --upstream-registry=: The name of the upstream registry.
        --upstream-repository-prefix=: The repository name prefix of the upstream registry to match with the upstream repository name.
      completion:
        flag:
            upstream-registry:
                - ecr
                - ecr-public
                - quay
                - k8s
                - docker-hub
                - github-container-registry
                - azure-container-registry
                - gitlab-container-registry
    - name: delete-repository-creation-template
      description: Deletes a repository creation template.
      flags:
        --prefix=!: The repository namespace prefix associated with the repository creation template.
    - name: delete-repository-policy
      description: Deletes the repository policy associated with the specified repository.
      flags:
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository policy to delete.
        --repository-name=!: The name of the repository that is associated with the repository policy to delete.
    - name: list-image-referrers
      description: Lists the artifacts associated with a specified subject image.
      flags:
        --filter=: The filter key and value with which to filter your `ListImageReferrers` results.
        --max-results=: The maximum number of image referrer results returned by `ListImageReferrers` in paginated output.
        --next-token=: The `nextToken` value returned from a previous paginated `ListImageReferrers` request where `maxResults` was used and the results exceeded the value of that parameter.
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository in which to list image referrers.
        --repository-name=!: The name of the repository that contains the subject image.
        --subject-id=!: An object containing the image digest of the subject image for which to retrieve associated artifacts.
    - name: list-tags-for-resource
      description: List the tags for an Amazon ECR resource.
      flags:
        --resource-arn=!: The Amazon Resource Name (ARN) that identifies the resource for which to list the tags.
    - name: put-account-setting
      description: Allows you to change the basic scan type version or registry policy scope.
      flags:
        --name=!: The name of the account setting, such as `BASIC_SCAN_TYPE_VERSION` or `REGISTRY_POLICY_SCOPE`.
        --value=!: Setting value that is specified.
    - name: put-signing-configuration
      description: Creates or updates the registry's signing configuration, which defines rules for automatically signing images with Amazon Web Services Signer.
      flags:
        --signing-configuration=!: The signing configuration to assign to the registry.
    - name: create-repository
      description: Creates a repository.
      flags:
        --encryption-configuration=: The encryption configuration for the repository.
        --image-scanning-configuration=: The `imageScanningConfiguration` parameter is being deprecated, in favor of specifying the image scanning configuration at the registry level.
        --image-tag-mutability-exclusion-filters=: A list of filters that specify which image tags should be excluded from the repository's image tag mutability setting.
        --image-tag-mutability=: The tag mutability setting for the repository.
        --registry-id=: The Amazon Web Services account ID associated with the registry to create the repository.
        --repository-name=!: The name to use for the repository.
        --tags=: The metadata that you apply to the repository to help you categorize and organize them.
      completion:
        flag:
            image-tag-mutability:
                - MUTABLE
                - IMMUTABLE
                - IMMUTABLE_WITH_EXCLUSION
                - MUTABLE_WITH_EXCLUSION
    - name: delete-pull-through-cache-rule
      description: Deletes a pull through cache rule.
      flags:
        --ecr-repository-prefix=!: The Amazon ECR repository prefix associated with the pull through cache rule to delete.
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the pull through cache rule.
    - name: describe-image-scan-findings
      description: Returns the scan findings for the specified image.
      flags:
        --image-id=!: ""
        --max-results=: The maximum number of image scan results returned by `DescribeImageScanFindings` in paginated output.
        --next-token=: The `nextToken` value returned from a previous paginated `DescribeImageScanFindings` request where `maxResults` was used and the results exceeded the value of that parameter.
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository in which to describe the image scan findings for.
        --repository-name=!: The repository for the image for which to describe the scan findings.
    - name: set-repository-policy
      description: Applies a repository policy to the specified repository to control access permissions.
      flags:
        --force: If the policy you are attempting to set on a repository policy would prevent you from setting another policy in the future, you must force the [SetRepositoryPolicy]() operation.
        --no-force: If the policy you are attempting to set on a repository policy would prevent you from setting another policy in the future, you must force the [SetRepositoryPolicy]() operation.
        --policy-text=!: The JSON repository policy text to apply to the repository.
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository.
        --repository-name=!: The name of the repository to receive the policy.
    - name: describe-image-signing-status
      description: Returns the signing status for a specified image.
      flags:
        --image-id=!: An object containing identifying information for an image.
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository.
        --repository-name=!: The name of the repository that contains the image.
    - name: start-lifecycle-policy-preview
      description: Starts a preview of a lifecycle policy for the specified repository.
      flags:
        --lifecycle-policy-text=: The policy to be evaluated against.
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository.
        --repository-name=!: The name of the repository to be evaluated.
    - name: batch-get-image
      description: Gets detailed information for an image.
      flags:
        --accepted-media-types=: The accepted media types for the request.
        --image-ids=!: A list of image ID references that correspond to images to describe.
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the images to describe.
        --repository-name=!: The repository that contains the images to describe.
    - name: complete-layer-upload
      description: Informs Amazon ECR that the image layer upload has completed for a specified registry, repository name, and upload ID.
      flags:
        --layer-digests=!: The `sha256` digest of the image layer.
        --registry-id=: The Amazon Web Services account ID associated with the registry to which to upload layers.
        --repository-name=!: The name of the repository to associate with the image layer.
        --upload-id=!: The upload ID from a previous [InitiateLayerUpload]() operation to associate with the image layer.
    - name: untag-resource
      description: Deletes specified tags from a resource.
      flags:
        --resource-arn=!: The Amazon Resource Name (ARN) of the resource from which to remove tags.
        --tag-keys=!: The keys of the tags to be removed.
    - name: create-repository-creation-template
      description: Creates a repository creation template.
      flags:
        --applied-for=!: A list of enumerable strings representing the Amazon ECR repository creation scenarios that this template will apply towards.
        --custom-role-arn=: The ARN of the role to be assumed by Amazon ECR.
        --description=: A description for the repository creation template.
        --encryption-configuration=: The encryption configuration to use for repositories created using the template.
        --image-tag-mutability-exclusion-filters=: A list of filters that specify which image tags should be excluded from the repository creation template's image tag mutability setting.
        --image-tag-mutability=: The tag mutability setting for the repository.
        --lifecycle-policy=: The lifecycle policy to use for repositories created using the template.
        --prefix=!: The repository namespace prefix to associate with the template.
        --repository-policy=: The repository policy to apply to repositories created using the template.
        --resource-tags=: The metadata to apply to the repository to help you categorize and organize.
      completion:
        flag:
            image-tag-mutability:
                - MUTABLE
                - IMMUTABLE
                - IMMUTABLE_WITH_EXCLUSION
                - MUTABLE_WITH_EXCLUSION
    - name: delete-lifecycle-policy
      description: Deletes the lifecycle policy associated with the specified repository.
      flags:
        --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository.
        --repository-name=!: The name of the repository.
    - name: list-pull-time-update-exclusions
      description: Lists the IAM principals that are excluded from having their image pull times recorded.
      flags:
        --max-results=: The maximum number of pull time update exclusion results returned by `ListPullTimeUpdateExclusions` in paginated output.
        --next-token=: The `nextToken` value returned from a previous paginated `ListPullTimeUpdateExclusions` request where `maxResults` was used and the results exceeded the value of that parameter.
    - name: update-repository-creation-template
      description: Updates an existing repository creation template.
      flags:
        --applied-for=: Updates the list of enumerable strings representing the Amazon ECR repository creation scenarios that this template will apply towards.
        --custom-role-arn=: The ARN of the role to be assumed by Amazon ECR.
        --description=: A description for the repository creation template.
        --encryption-configuration=: ""
        --image-tag-mutability-exclusion-filters=: A list of filters that specify which image tags should be excluded from the repository creation template's image tag mutability setting.
        --image-tag-mutability=: Updates the tag mutability setting for the repository.
        --lifecycle-policy=: Updates the lifecycle policy associated with the specified repository creation template.
        --prefix=!: The repository namespace prefix that matches an existing repository creation template in the registry.
        --repository-policy=: Updates the repository policy created using the template.
        --resource-tags=: The metadata to apply to the repository to help you categorize and organize.
      completion:
        flag:
            image-tag-mutability:
                - MUTABLE
                - IMMUTABLE
                - IMMUTABLE_WITH_EXCLUSION
                - MUTABLE_WITH_EXCLUSION
    - name: wait
      description: Wait  until  a particular condition is satisfied.
      commands:
        - name: image-scan-complete
          description: Returns the scan findings for the specified image.
          flags:
            --image-id=!: ""
            --max-results=: The maximum number of image scan results returned by `DescribeImageScanFindings` in paginated output.
            --next-token=: The `nextToken` value returned from a previous paginated `DescribeImageScanFindings` request where `maxResults` was used and the results exceeded the value of that parameter.
            --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository in which to describe the image scan findings for.
            --repository-name=!: The repository for the image for which to describe the scan findings.
        - name: lifecycle-policy-preview-complete
          description: Retrieves the results of the lifecycle policy preview request for the specified repository.
          flags:
            --filter=: An optional parameter that filters results based on image tag status and all tags, if tagged.
            --image-ids=: The list of imageIDs to be included.
            --max-results=: "The maximum number of repository results returned by `GetLifecyclePolicyPreviewRequest` in\L paginated output."
            --next-token=: "The `nextToken` value returned from a previous paginated\L `GetLifecyclePolicyPreviewRequest` request where `maxResults` was used and the\L results exceeded the value of that parameter."
            --registry-id=: The Amazon Web Services account ID associated with the registry that contains the repository.
            --repository-name=!: The name of the repository.
