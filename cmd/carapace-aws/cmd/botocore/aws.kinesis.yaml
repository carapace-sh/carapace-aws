name: kinesis
description: Amazon Kinesis
commands:
    - name: deregister-stream-consumer
      description: To deregister a consumer, provide its ARN.
      flags:
        --consumer-arn=: The ARN returned by Kinesis Data Streams when you registered the consumer.
        --consumer-name=: The name that you gave to the consumer.
        --stream-arn=: The ARN of the Kinesis data stream that the consumer is registered with.
    - name: describe-limits
      description: Describes the shard limits and usage for the account.
    - name: describe-stream
      description: Describes the specified Kinesis data stream.
      flags:
        --exclusive-start-shard-id=: The shard ID of the shard to start with.
        --limit=: The maximum number of shards to return in a single call.
        --stream-arn=: The ARN of the stream.
        --stream-name=: The name of the stream to describe.
    - name: update-account-settings
      description: Updates the account-level settings for Amazon Kinesis Data Streams.
      flags:
        --minimum-throughput-billing-commitment=!: Specifies the minimum throughput billing commitment configuration for your account.
    - name: list-streams
      description: Lists your Kinesis data streams.
      flags:
        --exclusive-start-stream-name=: The name of the stream to start the list with.
        --limit=: The maximum number of streams to list.
        --next-token=: ""
    - name: register-stream-consumer
      description: Registers a consumer with a Kinesis data stream.
      flags:
        --consumer-name=!: For a given Kinesis data stream, each consumer must have a unique name.
        --stream-arn=!: The ARN of the Kinesis data stream that you want to register the consumer with.
        --tags=: A set of up to 50 key-value pairs.
    - name: update-stream-warm-throughput
      description: Updates the warm throughput configuration for the specified Amazon Kinesis Data Streams on-demand data stream.
      flags:
        --stream-arn=: The ARN of the stream to be updated.
        --stream-name=: The name of the stream to be updated.
        --warm-throughput-mi-bps=!: The target warm throughput in MB/s that the stream should be scaled to handle.
    - name: decrease-stream-retention-period
      description: Decreases the Kinesis data stream's retention period, which is the length of time data records are accessible after they are added to the stream.
      flags:
        --retention-period-hours=!: The new retention period of the stream, in hours.
        --stream-arn=: The ARN of the stream.
        --stream-name=: The name of the stream to modify.
    - name: list-shards
      description: Lists the shards in a stream and provides information about each shard.
      flags:
        --exclusive-start-shard-id=: Specify this parameter to indicate that you want to list the shards starting with the shard whose ID immediately follows `ExclusiveStartShardId`.
        --max-results=: The maximum number of shards to return in a single call to `ListShards`.
        --next-token=: When the number of shards in the data stream is greater than the default value for the `MaxResults` parameter, or if you explicitly specify a value for `MaxResults` that is less than the number of shards in the data stream, the response includes a pagination token named `NextToken`.
        --shard-filter=: Enables you to filter out the response of the `ListShards` API.
        --stream-arn=: The ARN of the stream.
        --stream-creation-timestamp=: Specify this input parameter to distinguish data streams that have the same name.
        --stream-name=: The name of the data stream whose shards you want to list.
    - name: merge-shards
      description: Merges two adjacent shards in a Kinesis data stream and combines them into a single shard to reduce the stream's capacity to ingest and transport data.
      flags:
        --adjacent-shard-to-merge=!: The shard ID of the adjacent shard for the merge.
        --shard-to-merge=!: The shard ID of the shard to combine with the adjacent shard for the merge.
        --stream-arn=: The ARN of the stream.
        --stream-name=: The name of the stream for the merge.
    - name: update-stream-mode
      description: Updates the capacity mode of the data stream.
      flags:
        --stream-arn=!: Specifies the ARN of the data stream whose capacity mode you want to update.
        --stream-mode-details=!: Specifies the capacity mode to which you want to set your data stream.
        --warm-throughput-mi-bps=: The target warm throughput in MB/s that the stream should be scaled to handle.
    - name: increase-stream-retention-period
      description: Increases the Kinesis data stream's retention period, which is the length of time data records are accessible after they are added to the stream.
      flags:
        --retention-period-hours=!: The new retention period of the stream, in hours.
        --stream-arn=: The ARN of the stream.
        --stream-name=: The name of the stream to modify.
    - name: list-tags-for-resource
      description: List all tags added to the specified Kinesis resource.
      flags:
        --resource-arn=!: The Amazon Resource Name (ARN) of the Kinesis resource for which to list tags.
    - name: put-records
      description: Writes multiple data records into a Kinesis data stream in a single call (also referred to as a `PutRecords` request).
      flags:
        --records=!: The records associated with the request.
        --stream-arn=: The ARN of the stream.
        --stream-name=: The stream name associated with the request.
    - name: start-stream-encryption
      description: Enables or updates server-side encryption using an Amazon Web Services KMS key for a specified stream.
      flags:
        --encryption-type=!: The encryption type to use.
        --key-id=!: The GUID for the customer-managed Amazon Web Services KMS key to use for encryption.
        --stream-arn=: The ARN of the stream.
        --stream-name=: The name of the stream for which to start encrypting records.
      completion:
        flag:
            encryption-type:
                - NONE
                - KMS
    - name: stop-stream-encryption
      description: Disables server-side encryption for a specified stream.
      flags:
        --encryption-type=!: The encryption type.
        --key-id=!: The GUID for the customer-managed Amazon Web Services KMS key to use for encryption.
        --stream-arn=: The ARN of the stream.
        --stream-name=: The name of the stream on which to stop encrypting records.
      completion:
        flag:
            encryption-type:
                - NONE
                - KMS
    - name: subscribe-to-shard
      description: This operation establishes an HTTP/2 connection between the consumer you specify in the `ConsumerARN` parameter and the shard you specify in the `ShardId` parameter.
      flags:
        --consumer-arn=!: For this parameter, use the value you obtained when you called [RegisterStreamConsumer]().
        --shard-id=!: The ID of the shard you want to subscribe to.
        --starting-position=!: The starting position in the data stream from which to start streaming.
    - name: get-shard-iterator
      description: Gets an Amazon Kinesis shard iterator.
      flags:
        --shard-id=!: The shard ID of the Kinesis Data Streams shard to get the iterator for.
        --shard-iterator-type=!: Determines how the shard iterator is used to start reading data records from the shard.
        --starting-sequence-number=: The sequence number of the data record in the shard from which to start reading.
        --stream-arn=: The ARN of the stream.
        --stream-name=: The name of the Amazon Kinesis data stream.
        --timestamp=: The time stamp of the data record from which to start reading.
      completion:
        flag:
            shard-iterator-type:
                - AT_SEQUENCE_NUMBER
                - AFTER_SEQUENCE_NUMBER
                - TRIM_HORIZON
                - LATEST
                - AT_TIMESTAMP
    - name: remove-tags-from-stream
      description: Removes tags from the specified Kinesis data stream.
      flags:
        --stream-arn=: The ARN of the stream.
        --stream-name=: The name of the stream.
        --tag-keys=!: A list of tag keys.
    - name: update-max-record-size
      description: This allows you to update the `MaxRecordSize` of a single record that you can write to, and read from a stream.
      flags:
        --max-record-size-in-ki-b=!: The maximum record size of a single record in KiB that you can write to, and read from a stream.
        --stream-arn=: The Amazon Resource Name (ARN) of the stream for the `MaxRecordSize` update.
    - name: create-stream
      description: Creates a Kinesis data stream.
      flags:
        --max-record-size-in-ki-b=: The maximum record size of a single record in kibibyte (KiB) that you can write to, and read from a stream.
        --shard-count=: The number of shards that the stream will use.
        --stream-mode-details=: Indicates the capacity mode of the data stream.
        --stream-name=!: A name to identify the stream.
        --tags=: A set of up to 50 key-value pairs to use to create the tags.
        --warm-throughput-mi-bps=: The target warm throughput in MB/s that the stream should be scaled to handle.
    - name: delete-stream
      description: Deletes a Kinesis data stream and all its shards and data.
      flags:
        --enforce-consumer-deletion: If this parameter is unset (`null`) or if you set it to `false`, and the stream has registered consumers, the call to `DeleteStream` fails with a `ResourceInUseException`.
        --no-enforce-consumer-deletion: If this parameter is unset (`null`) or if you set it to `false`, and the stream has registered consumers, the call to `DeleteStream` fails with a `ResourceInUseException`.
        --stream-arn=: The ARN of the stream.
        --stream-name=: The name of the stream to delete.
    - name: describe-account-settings
      description: Describes the account-level settings for Amazon Kinesis Data Streams.
    - name: disable-enhanced-monitoring
      description: Disables enhanced monitoring.
      flags:
        --shard-level-metrics=!: List of shard-level metrics to disable.
        --stream-arn=: The ARN of the stream.
        --stream-name=: The name of the Kinesis data stream for which to disable enhanced monitoring.
    - name: get-records
      description: Gets data records from a Kinesis data stream's shard.
      flags:
        --limit=: The maximum number of records to return.
        --shard-iterator=!: The position in the shard from which you want to start sequentially reading data records.
        --stream-arn=: The ARN of the stream.
    - name: get-resource-policy
      description: Returns a policy attached to the specified data stream or consumer.
      flags:
        --resource-arn=!: The Amazon Resource Name (ARN) of the data stream or consumer.
    - name: list-tags-for-stream
      description: Lists the tags for the specified Kinesis data stream.
      flags:
        --exclusive-start-tag-key=: The key to use as the starting point for the list of tags.
        --limit=: The number of tags to return.
        --stream-arn=: The ARN of the stream.
        --stream-name=: The name of the stream.
    - name: put-resource-policy
      description: Attaches a resource-based policy to a data stream or registered consumer.
      flags:
        --policy=!: Details of the resource policy.
        --resource-arn=!: The Amazon Resource Name (ARN) of the data stream or consumer.
    - name: add-tags-to-stream
      description: Adds or updates tags for the specified Kinesis data stream.
      flags:
        --stream-arn=: The ARN of the stream.
        --stream-name=: The name of the stream.
        --tags=!: A set of up to 50 key-value pairs to use to create the tags.
    - name: delete-resource-policy
      description: Delete a policy for the specified data stream or consumer.
      flags:
        --resource-arn=!: The Amazon Resource Name (ARN) of the data stream or consumer.
    - name: describe-stream-consumer
      description: To get the description of a registered consumer, provide the ARN of the consumer.
      flags:
        --consumer-arn=: The ARN returned by Kinesis Data Streams when you registered the consumer.
        --consumer-name=: The name that you gave to the consumer.
        --stream-arn=: The ARN of the Kinesis data stream that the consumer is registered with.
    - name: enable-enhanced-monitoring
      description: Enables enhanced Kinesis data stream monitoring for shard-level metrics.
      flags:
        --shard-level-metrics=!: List of shard-level metrics to enable.
        --stream-arn=: The ARN of the stream.
        --stream-name=: The name of the stream for which to enable enhanced monitoring.
    - name: put-record
      description: Writes a single data record into an Amazon Kinesis data stream.
      flags:
        --data=!: The data blob to put into the record, which is base64-encoded when the blob is serialized.
        --explicit-hash-key=: The hash value used to explicitly determine the shard the data record is assigned to by overriding the partition key hash.
        --partition-key=!: Determines which shard in the stream the data record is assigned to.
        --sequence-number-for-ordering=: Guarantees strictly increasing sequence numbers, for puts from the same client and to the same partition key.
        --stream-arn=: The ARN of the stream.
        --stream-name=: The name of the stream to put the data record into.
    - name: split-shard
      description: Splits a shard into two new shards in the Kinesis data stream, to increase the stream's capacity to ingest and transport data.
      flags:
        --new-starting-hash-key=!: A hash key value for the starting hash key of one of the child shards created by the split.
        --shard-to-split=!: The shard ID of the shard to split.
        --stream-arn=: The ARN of the stream.
        --stream-name=: The name of the stream for the shard split.
    - name: untag-resource
      description: Removes tags from the specified Kinesis resource.
      flags:
        --resource-arn=!: The Amazon Resource Name (ARN) of the Kinesis resource from which to remove tags.
        --tag-keys=!: A list of tag key-value pairs.
    - name: update-shard-count
      description: Updates the shard count of the specified stream to the specified number of shards.
      flags:
        --scaling-type=!: The scaling type.
        --stream-arn=: The ARN of the stream.
        --stream-name=: The name of the stream.
        --target-shard-count=!: The new number of shards.
      completion:
        flag:
            scaling-type:
                - UNIFORM_SCALING
    - name: describe-stream-summary
      description: Provides a summarized description of the specified Kinesis data stream without the shard list.
      flags:
        --stream-arn=: The ARN of the stream.
        --stream-name=: The name of the stream to describe.
    - name: list-stream-consumers
      description: Lists the consumers registered to receive data from a stream using enhanced fan-out, and provides information about each consumer.
      flags:
        --max-results=: The maximum number of consumers that you want a single call of `ListStreamConsumers` to return.
        --next-token=: When the number of consumers that are registered with the data stream is greater than the default value for the `MaxResults` parameter, or if you explicitly specify a value for `MaxResults` that is less than the number of consumers that are registered with the data stream, the response includes a pagination token named `NextToken`.
        --stream-arn=!: The ARN of the Kinesis data stream for which you want to list the registered consumers.
        --stream-creation-timestamp=: Specify this input parameter to distinguish data streams that have the same name.
    - name: tag-resource
      description: Adds or updates tags for the specified Kinesis resource.
      flags:
        --resource-arn=!: The Amazon Resource Name (ARN) of the Kinesis resource to which to add tags.
        --tags=!: An array of tags to be added to the Kinesis resource.
    - name: wait
      description: Wait  until  a particular condition is satisfied.
      commands:
        - name: stream-exists
          description: Describes the specified Kinesis data stream.
          flags:
            --exclusive-start-shard-id=: The shard ID of the shard to start with.
            --limit=: The maximum number of shards to return in a single call.
            --stream-arn=: The ARN of the stream.
            --stream-name=: The name of the stream to describe.
        - name: stream-not-exists
          description: Describes the specified Kinesis data stream.
          flags:
            --exclusive-start-shard-id=: The shard ID of the shard to start with.
            --limit=: The maximum number of shards to return in a single call.
            --stream-arn=: The ARN of the stream.
            --stream-name=: The name of the stream to describe.
